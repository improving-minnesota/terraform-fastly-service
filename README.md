## Overview
[Improving](https://www.improving.com)'s [terraform-fastly-service](https://github.com/improving-minnesota/terraform-fastly-service/) is a demonstration Terraform module to abstract select configuration features of a Fastly service via the Terraform [Fastly provider](https://registry.terraform.io/providers/fastly/fastly/latest/docs). This module may not be maintained, fully-complete, and is provided as-is for demonstration purposes.

See [examples](https://github.com/improving-minnesota/terraform-fastly-service/tree/main/examples) for usage with the following example scenarios:
* simple-service
  * Creates a Fastly service using this module, with simple configuration.
  * This example highlights the module's abstraction for simplistic use.
* detailed-service
  * Creates a Fastly service using this module, with detailed configuration using most of the available features.
  * This example showcases split files for each available featureset, leading to a manageable approach for maintaining services.
* multiple-environments-service
  * Creates multiple Fastly services (multiple environments - i.e. dev/prod) using this module, with detailed configuration using most of the available features
  * This example adds a shared global configuration to minimize duplication of configuration among environments, vastly simplifying multiple environments without drift of multiple codebases, while still allowing for the flexibility to modify single configurations where desired.

Implementing stored configuration via Terraform modules to drive your Fastly CDN services is only one aspect of a complete solution. Integrating CDN, WAF, certificate management, object storage, compute, bot detection, observability, security, and CICD automation all together can drive an efficient solution for your business needs. To learn more about how our customized solutions can drive your business success, [reach out to us](https://www.improving.com/contact)!

## Development

### Prerequisites

* terraform
* terraform-docs
* terragrunt
* yamllint
* pre-commit (`pre-commit install` will install pre-commit hooks)

<!-- BEGIN_TF_DOCS -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_fastly"></a> [fastly](#requirement\_fastly) | ~> 6.1.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_fastly"></a> [fastly](#provider\_fastly) | ~> 6.1.0 |

## Resources

| Name | Type |
|------|------|
| [fastly_service_acl_entries.this](https://registry.terraform.io/providers/fastly/fastly/latest/docs/resources/service_acl_entries) | resource |
| [fastly_service_dictionary_items.this](https://registry.terraform.io/providers/fastly/fastly/latest/docs/resources/service_dictionary_items) | resource |
| [fastly_service_dynamic_snippet_content.this](https://registry.terraform.io/providers/fastly/fastly/latest/docs/resources/service_dynamic_snippet_content) | resource |
| [fastly_service_vcl.this](https://registry.terraform.io/providers/fastly/fastly/latest/docs/resources/service_vcl) | resource |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_fastly_acls"></a> [fastly\_acls](#input\_fastly\_acls) | A list of ACLs to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - entries (List) A list of ACL entries. Each object in the list has the following attributes:<br/>    - comment (String) A personal freeform descriptive note<br/>    - ip (String) An IP address that is the focus for the ACL<br/>    - negated (Boolean) A boolean that will negate the match if true<br/>    - subnet (String) An optional subnet mask applied to the IP address<br/>  - force\_destroy (Boolean) Allow the ACL to be deleted, even if it contains entries. Defaults to false.<br/>  - manage\_entries (Boolean) Whether to reapply changes if the state of the entries drifts, i.e. if entries are managed externally.<br/>  - name (String) A unique name to identify this ACL. It is important to note that changing this attribute will delete and recreate the ACL, and discard the current items in the ACL. | <pre>list(object({<br/>    entries = list(object({<br/>      comment = optional(string)<br/>      ip      = string<br/>      negated = optional(bool)<br/>      subnet  = optional(string)<br/>    }))<br/>    force_destroy  = optional(bool, false)<br/>    manage_entries = bool<br/>    name           = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_activate"></a> [fastly\_activate](#input\_fastly\_activate) | (Boolean) Conditionally prevents new service versions from being activated. The apply step will create a new draft version but will not activate it if this is set to false. Default true | `bool` | `true` | no |
| <a name="input_fastly_api_key"></a> [fastly\_api\_key](#input\_fastly\_api\_key) | The Fastly API key | `string` | n/a | yes |
| <a name="input_fastly_backends"></a> [fastly\_backends](#input\_fastly\_backends) | A list of backends to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - address (String) An IPv4, hostname, or IPv6 address for the Backend<br/>  - name (String) Name for this Backend. Must be unique to this Service. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - auto\_loadbalance (Boolean) Denotes if this Backend should be included in the pool of backends that requests are load balanced against. Default false<br/>  - between\_bytes\_timeout (Number) How long to wait between bytes in milliseconds. Default 10000<br/>  - connect\_timeout (Number) How long to wait for a timeout in milliseconds. Default 1000<br/>  - error\_threshold (Number) How many errors should be seen before this backend is considered unhealthy. Default 0<br/>  - first\_byte\_timeout (Number) How long to wait for the first byte in milliseconds. Default 15000<br/>  - healthcheck (String) The name of the healthcheck to use with this backend<br/>  - keepalive\_time (Number) How long to keep a connection to the backend open in seconds. Default 60<br/>  - max\_conn (Number) The maximum number of connections to the backend. Default 200<br/>  - max\_tls\_version (String) The maximum version of TLS the backend supports<br/>  - min\_tls\_version (String) The minimum version of TLS the backend supports<br/>  - override\_host (String) The hostname to override the Host header<br/>  - port (Number) The port number of the address. Default 80<br/>  - request\_condition (String) Name of a condition, which if met, will select this backend during a request.<br/>  - share\_key (String) Value that when shared across backends will enable those backends to share the same health check.<br/>  - shield (String) The POP of the shield designated to reduce inbound load. Valid values for shield are included in the GET /datacenters API response<br/>  - ssl\_ca\_cert (String) CA certificate attached to origin.<br/>  - ssl\_cert\_hostname (String) Configure certificate validation. Does not affect SNI at all<br/>  - ssl\_check\_cert (Boolean) Check the backend certificate. Default true<br/>  - ssl\_ciphers (String) Cipher list consisting of one or more cipher strings separated by colons. Commas or spaces are also acceptable separators but colons are normally used.<br/>  - ssl\_client\_cert (String) Client certificate attached to origin.<br/>  - ssl\_client\_key (String, Sensitive) Client key attached to origin.<br/>  - ssl\_sni\_hostname (String) SNI host name to use during SSL handshake. This is required when using SSL.<br/>  - use\_ssl (Boolean) Use SSL for this backend. Default false<br/>  - weight (Number) Weight used to load balance this backend against others. Default 100 | <pre>list(object({<br/>    address               = string<br/>    auto_loadbalance      = optional(bool, false)<br/>    between_bytes_timeout = optional(number, 10000)<br/>    connect_timeout       = optional(number, 1000)<br/>    error_threshold       = optional(number, 0)<br/>    first_byte_timeout    = optional(number, 15000)<br/>    healthcheck           = optional(string)<br/>    keepalive_time        = optional(number, 60)<br/>    max_conn              = optional(number, 200)<br/>    max_tls_version       = optional(string)<br/>    min_tls_version       = optional(string)<br/>    name                  = string<br/>    override_host         = optional(string)<br/>    port                  = optional(number, 80)<br/>    request_condition     = optional(string)<br/>    share_key             = optional(string)<br/>    shield                = optional(string)<br/>    ssl_ca_cert           = optional(string)<br/>    ssl_cert_hostname     = optional(string)<br/>    ssl_check_cert        = optional(bool, true)<br/>    ssl_ciphers           = optional(string)<br/>    ssl_client_cert       = optional(string)<br/>    ssl_client_key        = optional(string)<br/>    ssl_sni_hostname      = optional(string)<br/>    use_ssl               = optional(bool, false)<br/>    weight                = optional(number, 100)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_cache_setting"></a> [fastly\_cache\_setting](#input\_fastly\_cache\_setting) | A list of cache settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - action (String) One of cache, pass, or restart, as defined on Fastly's documentation under "Caching action descriptions"<br/>  - cache\_condition (String) Name of already defined condition used to test whether this settings object should be used. This condition must be of type CACHE<br/>  - name (String) Unique name for this Cache Setting. It is important to note that changing this attribute will delete and recreate the resource<br/>  - stale\_ttl (Number) Max "Time To Live" for stale (unreachable) objects<br/>  - ttl (Number) The Time-To-Live (TTL) for the object | <pre>list(object({<br/>    action          = string<br/>    cache_condition = string<br/>    name            = string<br/>    stale_ttl       = optional(number)<br/>    ttl             = optional(number)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_conditions"></a> [fastly\_conditions](#input\_fastly\_conditions) | A list of conditions to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - name (String) The unique name for the condition. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - priority (Number) A number used to determine the order in which multiple conditions execute. Lower numbers execute first. Default 10<br/>  - statement (String) The statement used to determine if the condition is met.<br/>  - type (String) Type of condition, either REQUEST (req), RESPONSE (req, resp), or CACHE (req, beresp). | <pre>list(object({<br/>    name      = string<br/>    priority  = optional(number, 10)<br/>    statement = string<br/>    type      = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_default_host"></a> [fastly\_default\_host](#input\_fastly\_default\_host) | (String) The default hostname | `string` | `""` | no |
| <a name="input_fastly_default_ttl"></a> [fastly\_default\_ttl](#input\_fastly\_default\_ttl) | (Number) The default Time-to-live (TTL) for requests | `number` | `3600` | no |
| <a name="input_fastly_dictionaries"></a> [fastly\_dictionaries](#input\_fastly\_dictionaries) | A list of dictionaries to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - force\_destroy (Boolean) Allow the dictionary to be deleted, even if it contains entries. Defaults to false.<br/>  - items (Map of String) A map representing an entry in the dictionary, (key/value)<br/>  - manage\_items (Boolean) Whether to reapply changes if the state of the items drifts, i.e. if items are managed externally.<br/>  - name (String) A unique name to identify this dictionary. It is important to note that changing this attribute will delete and recreate the dictionary, and discard the current items in the dictionary. | <pre>list(object({<br/>    force_destroy = optional(bool, false)<br/>    items         = map(string)<br/>    manage_items  = bool<br/>    name          = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_directors"></a> [fastly\_directors](#input\_fastly\_directors) | A list of directors to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - backends (Set of String) Names of defined backends to map the Director to. Example: [ "origin1", "origin2" ]<br/>  - comment (String) A comment to describe the Director.<br/>  - name (String) Unique name for this Director. It is important to note that changing this attribute will delete and recreate the resource<br/>  - quorum (Number) Percentage of capacity that needs to be up for the director itself to be considered up. Default 75<br/>  - retries (Number) Number of retries to perform before failing over to the next backend. Default 5<br/>  - shield (String) Selected POP to serve as a "shield" for backends. Valid values for shield are included in the GET /datacenters API response<br/>  - type (Number) Type of load balance group to use. Integer, 1 to 4. Values: 1 for round-robin, 2 for random, 3 for hash, 4 for client. Default 1 | <pre>list(object({<br/>    backends = set(string)<br/>    comment  = optional(string)<br/>    name     = string<br/>    quorum   = optional(number, 75)<br/>    retries  = optional(number, 5)<br/>    shield   = optional(string)<br/>    type     = optional(number, 1)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_domain_names"></a> [fastly\_domain\_names](#input\_fastly\_domain\_names) | List of domains to be added to the Fastly service. | <pre>list(object({<br/>    name    = string<br/>    comment = optional(string)<br/>  }))</pre> | n/a | yes |
| <a name="input_fastly_dynamic_snippets"></a> [fastly\_dynamic\_snippets](#input\_fastly\_dynamic\_snippets) | A list of dynamic VCL snippets to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - content (String) The VCL code that specifies exactly what the snippet does.<br/>  - priority (Number) Priority determines the ordering for multiple snippets. Lower numbers execute first. Defaults to 100<br/>  - manage (Boolean) Whether to reapply changes if the state of the snippets drifts, i.e. if snippets are managed externally.<br/>  - name (String) A name that is unique across "regular" and "dynamic" VCL Snippet configuration blocks. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - type (String) The location in generated VCL where the snippet should be placed (can be one of init, recv, hash, hit, miss, pass, fetch, error, deliver, log or none). | <pre>list(object({<br/>    content  = optional(string)<br/>    priority = optional(number, 100)<br/>    manage   = optional(bool, false)<br/>    name     = string<br/>    type     = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_force_destroy"></a> [fastly\_force\_destroy](#input\_fastly\_force\_destroy) | (Boolean) Services that are active cannot be destroyed. In order to destroy the Service, set force\_destroy to true. Default false | `bool` | `false` | no |
| <a name="input_fastly_gzip_settings"></a> [fastly\_gzip\_settings](#input\_fastly\_gzip\_settings) | A list of gzip settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - cache\_condition (String) Name of already defined condition controlling when this gzip configuration applies. This condition must be of type CACHE.<br/>  - content\_types (List of String) The content-type for each type of content you wish to have dynamically gzip'ed. Example: ["text/html", "text/css"]<br/>  - extensions (List of String) File extensions for each file type to dynamically gzip. Example: ["css", "js"]<br/>  - name (String) A name to refer to this gzip condition. It is important to note that changing this attribute will delete and recreate the resource. | <pre>list(object({<br/>    cache_condition = optional(string)<br/>    content_types   = optional(list(string))<br/>    extensions      = optional(list(string))<br/>    name            = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_headers"></a> [fastly\_headers](#input\_fastly\_headers) | A list of headers to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - action (String) The Header manipulation action to take; must be one of set, append, delete, regex, or regex\_repeat<br/>  - cache\_condition (String) Name of already defined condition to apply. This condition must be of type CACHE<br/>  - destination (String) The name of the header that is going to be affected by the Action<br/>  - ignore\_if\_set (Boolean) Don't add the header if it is already. (Only applies to set action.). Default false<br/>  - name (String) A name to refer to this header condition. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - priority (Number) Lower priorities execute first. Default: 100<br/>  - regex (String) Regular expression to use (Only applies to regex and regex\_repeat actions.)<br/>  - request\_condition (String) Name of already defined condition to apply. This condition must be of type REQUEST<br/>  - response\_condition (String) Name of already defined condition to apply. This condition must be of type RESPONSE<br/>  - source (String) Variable to be used as a source for the header content (Does not apply to delete action.)<br/>  - substitution (String) The substitution string to use (Only applies to regex and regex\_repeat actions.)<br/>  - type (String) The Request type on which to apply the selected Action; must be one of request, fetch, cache or response | <pre>list(object({<br/>    action             = string<br/>    cache_condition    = optional(string)<br/>    destination        = string<br/>    ignore_if_set      = optional(bool, false)<br/>    name               = string<br/>    priority           = optional(number, 100)<br/>    regex              = optional(string)<br/>    request_condition  = optional(string)<br/>    response_condition = optional(string)<br/>    source             = optional(string)<br/>    substitution       = optional(string)<br/>    type               = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_healthchecks"></a> [fastly\_healthchecks](#input\_fastly\_healthchecks) | A list of healthchecks to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - check\_interval (Number) How often to run the Healthcheck in milliseconds. Default 5000<br/>  - expected\_response (Number) The status code expected from the host. Default 200<br/>  - headers (Set of String) Custom headers to send with the Healthcheck. Each header should be in the format "Header: Value". To remove all headers, first specify an empty string. Example: ["Accept: application/json", "User-Agent: fastly-healthchecks"]<br/>  - host (String) The Host header to send for this Healthcheck.<br/>  - http\_version (String) Whether to use version 1.0 or 1.1 HTTP. Default 1.1<br/>  - initial (Number) When loading a config, the initial number of probes to be seen as OK. Default 3<br/>  - method (String) Which HTTP method to use. Default HEAD<br/>  - name (String) A unique name to identify this Healthcheck. It is important to note that changing this attribute will delete and recreate the resource<br/>  - path (String) The path to check<br/>  - threshold (Number) How many Healthchecks must succeed to be considered healthy. Default 3<br/>  - timeout (Number) Timeout in milliseconds. Default 5000<br/>  - window (Number) The number of most recent Healthcheck queries to keep for this Healthcheck. Default 5 | <pre>list(object({<br/>    check_interval    = optional(number, 5000)<br/>    expected_response = optional(number, 200)<br/>    headers           = optional(set(string))<br/>    host              = string<br/>    http_version      = optional(string, "1.1")<br/>    initial           = optional(number, 3)<br/>    method            = optional(string, "HEAD")<br/>    name              = string<br/>    path              = string<br/>    threshold         = optional(number, 3)<br/>    timeout           = optional(number, 5000)<br/>    window            = optional(number, 5)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_http3"></a> [fastly\_http3](#input\_fastly\_http3) | (Boolean) Enables support for the HTTP/3 (QUIC) protocol. Default true | `bool` | `true` | no |
| <a name="input_fastly_image_optimizers"></a> [fastly\_image\_optimizers](#input\_fastly\_image\_optimizers) | A single-item list of settings for the image optimizer to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - allow-video (Boolean) Enables GIF to MP4 transformations on this service.<br/>  - jpeg\_quality (Number) The default quality to use with JPEG output. This can be overridden with the "quality" parameter on specific image optimizer requests.<br/>  - jpeg\_type (String) The default type of JPEG output to use. This can be overridden with "format=bjpeg" and "format=pjpeg" on specific image optimizer requests. Valid values are auto, baseline and progressive.<br/>    - auto: Match the input JPEG type, or baseline if transforming from a non-JPEG input.<br/>    - baseline: Output baseline JPEG images<br/>    - progressive: Output progressive JPEG images<br/>  - name (String) Used by the provider to identify modified settings. Changing this value will force the entire block to be deleted, then recreated.<br/>  - resize\_filter (String) The type of filter to use while resizing an image. Valid values are lanczos3, lanczos2, bicubic, bilinear and nearest.<br/>    - lanczos3: A Lanczos filter with a kernel size of 3. Lanczos filters can detect edges and linear features within an image, providing the best possible reconstruction.<br/>    - lanczos2: A Lanczos filter with a kernel size of 2.<br/>    - bicubic: A filter using an average of a 4x4 environment of pixels, weighing the innermost pixels higher.<br/>    - bilinear: A filter using an average of a 2x2 environment of pixels.<br/>    - nearest: A filter using the value of nearby translated pixel values. Preserves hard edges.<br/>  - upscale (Boolean) Whether or not we should allow output images to render at sizes larger than input.<br/>  - webp (Boolean) Controls whether or not to default to WebP output when the client supports it. This is equivalent to adding "auto=webp" to all image optimizer requests.<br/>  - webp\_quality (Number) The default quality to use with WebP output. This can be overridden with the second option in the "quality" URL parameter on specific image optimizer requests. | <pre>list(object({<br/>    allow_video   = optional(bool)<br/>    jpeg_quality  = optional(number)<br/>    jpeg_type     = optional(string)<br/>    name          = string<br/>    resize_filter = optional(string)<br/>    upscale       = optional(bool)<br/>    webp          = optional(bool)<br/>    webp_quality  = optional(number)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_bigquery"></a> [fastly\_logging\_bigquery](#input\_fastly\_logging\_bigquery) | A list of logging BigQuery settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - account\_name (String) The google account name used to obtain temporary credentials (default none). You may optionally provide this via an environment variable, FASTLY\_GCS\_ACCOUNT\_NAME.<br/>  - dataset (String) The ID of your BigQuery dataset.<br/>  - format (String) The logging format desired.<br/>  - name (String) A unique name to identify this BigQuery logging endpoint. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - project\_id (String) The ID of your GCP project.<br/>  - response\_condition (String) Name of a condition to apply this logging.<br/>  - table (String) The ID of your BigQuery table.<br/>  - template (String) BigQuery table name suffix template. | <pre>list(object({<br/>    account_name       = optional(string)<br/>    dataset            = string<br/>    format             = optional(string)<br/>    name               = string<br/>    placement          = optional(string)<br/>    project_id         = string<br/>    response_condition = optional(string)<br/>    table              = string<br/>    template           = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_bigquery_email"></a> [fastly\_logging\_bigquery\_email](#input\_fastly\_logging\_bigquery\_email) | (String, Sensitive) The email for the service account with write access to your BigQuery dataset. If not provided, this will be pulled from a FASTLY\_BQ\_EMAIL environment variable. | `string` | `""` | no |
| <a name="input_fastly_logging_bigquery_secret_key"></a> [fastly\_logging\_bigquery\_secret\_key](#input\_fastly\_logging\_bigquery\_secret\_key) | (String, Sensitive) The secret key associated with the service account that has write access to your BigQuery table. If not provided, this will be pulled from the FASTLY\_BQ\_SECRET\_KEY environment variable. Typical format for this is a private key in a string with newlines. | `string` | `""` | no |
| <a name="input_fastly_logging_blobstorage"></a> [fastly\_logging\_blobstorage](#input\_fastly\_logging\_blobstorage) | A list of logging Azure Blob Storage settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - account\_name (String) The unique Azure Blob Storage namespace in which your data objects are stored.<br/>  - compression\_codec (String) The codec used for compression of your logs. Valid values are zstd, snappy, and gzip. If the specified codec is "gzip", gzip\_level will default to 3. To specify a different level, leave compression\_codec blank and explicitly set the level using gzip\_level. Specifying both compression\_codec and gzip\_level in the same API request will result in an error.<br/>  - container (String) The name of the Azure Blob Storage container in which to store logs.<br/>  - file\_max\_bytes (String) Maximum size of an uploaded log file, if non-zero.<br/>  - format (String) Apache-style string or VCL variables to use for log formatting Default: %h %l %u %t "%r" %>s %b<br/>  - format\_version (String) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. Default 2<br/>  - gzip\_level (String) Level of Gzip compression from 0-9. 0 means no compression. 1 is the fastest and the least compressed version, 9 is the slowest and the most compressed version. Default 0<br/>  - message\_type (String) How the message should be formatted. Can be either classic, loggly, logplex or blank. Default is classic<br/>  - name (String) A unique name to identify the Azure Blob Storage endpoint. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - path (String) The path to upload logs to. Must end with a trailing slash. If this field is left empty, the files will be saved in the container's root path.<br/>  - period (String) How frequently the logs should be transferred in seconds. Default 3600.<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - public\_key (String) A PGP public key that Fastly will use to encrypt your log files before writing them to disk.<br/>  - response\_condition (String) The name of the condition to apply.<br/>  - timestamp\_format (String) The strftime specified timestamp formatting. Default: %Y-%m-%dT%H:%M:%S.000 | <pre>list(object({<br/>    account_name       = string<br/>    compression_codec  = optional(string)<br/>    container          = string<br/>    file_max_bytes     = optional(number)<br/>    format             = string<br/>    format_version     = optional(number)<br/>    gzip_level         = optional(number)<br/>    message_type       = optional(string)<br/>    name               = string<br/>    path               = optional(string)<br/>    period             = optional(number)<br/>    placement          = optional(string)<br/>    public_key         = optional(string)<br/>    response_condition = optional(string)<br/>    timestamp_format   = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_blobstorage_sas_token"></a> [fastly\_logging\_blobstorage\_sas\_token](#input\_fastly\_logging\_blobstorage\_sas\_token) | (String, Sensitive) The Azure shared access signature providing write access to the blob service objects. Be sure to update your token before it expires or the logging functionality will not work. | `string` | `""` | no |
| <a name="input_fastly_logging_cloudfiles"></a> [fastly\_logging\_cloudfiles](#input\_fastly\_logging\_cloudfiles) | A list of logging Cloud Files settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - bucket\_name (String) The name of your Cloud Files container.<br/>  - compression\_codec (String) The codec used for compression of your logs. Valid values are zstd, snappy, and gzip. If the specified codec is "gzip", gzip\_level will default to 3. To specify a different level, leave compression\_codec blank and explicitly set the level using gzip\_level. Specifying both compression\_codec and gzip\_level in the same API request will result in an error.<br/>  - format (String) Apache style log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. Default 2<br/>  - gzip\_level (Number) Level of Gzip compression from 0-9. 0 means no compression. 1 is the fastest and the least compressed version, 9 is the slowest and the most compressed version. Default 0<br/>  - message\_type (String) How the message should be formatted. Can be either classic, loggly, logplex or blank. Default is classic<br/>  - name (String) The unique name of the Rackspace Cloud Files logging endpoint. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - path (String) The path to upload logs to.<br/>  - period (Number) How frequently log files are finalized so they can be available for reading in seconds. Default 3600<br/>  - placement (String) Where in the generated VCL the logging call should be placed. Can be none or none.<br/>  - public\_key (String) The PGP public key that Fastly will use to encrypt your log files before writing them to disk.<br/>  - region (String) The region to stream logs to. One of: DFW (Dallas), ORD (Chicago), IAD (Northern Virginia), LON (London), SYD (Sydney), HKG (Hong Kong).<br/>  - response\_condition (String) The name of an existing condition in the configured endpoint, or leave blank to always execute.<br/>  - timestamp\_format (String) The strftime specified timestamp formatting. Default: %Y-%m-%dT%H:%M:%S.000<br/>  - user (String) The username for your Cloud Files account. | <pre>list(object({<br/>    bucket_name        = string<br/>    compression_codec  = optional(string)<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    gzip_level         = optional(number)<br/>    message_type       = optional(string)<br/>    name               = string<br/>    path               = optional(string)<br/>    period             = optional(number)<br/>    placement          = optional(string)<br/>    public_key         = optional(string)<br/>    region             = optional(string)<br/>    response_condition = optional(string)<br/>    timestamp_format   = optional(string)<br/>    user               = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_cloudfiles_access_key"></a> [fastly\_logging\_cloudfiles\_access\_key](#input\_fastly\_logging\_cloudfiles\_access\_key) | (String, Sensitive) Your Cloud File account access key. | `string` | `""` | no |
| <a name="input_fastly_logging_datadog"></a> [fastly\_logging\_datadog](#input\_fastly\_logging\_datadog) | A list of logging Datadog settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - format (String) Apache-style string or VCL variables to use for log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. Default 2<br/>  - name (String) The unique name of the Datadog logging endpoint. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - region (String) The region that log data will be sent to. One of US or EU. Default US<br/>  - response\_condition (String) The name of the condition to apply. | <pre>list(object({<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    name               = string<br/>    placement          = optional(string)<br/>    region             = optional(string)<br/>    response_condition = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_datadog_token"></a> [fastly\_logging\_datadog\_token](#input\_fastly\_logging\_datadog\_token) | (String, Sensitive) The API key from your Datadog account. | `string` | `""` | no |
| <a name="input_fastly_logging_digitalocean"></a> [fastly\_logging\_digitalocean](#input\_fastly\_logging\_digitalocean) | A list of logging DigitalOcean settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - bucket\_name (String) The name of the DigitalOcean Space.<br/>  - compression\_codec (String) The codec used for compression of your logs. Valid values are zstd, snappy, and gzip. If the specified codec is "gzip", gzip\_level will default to 3. To specify a different level, leave compression\_codec blank and explicitly set the level using gzip\_level. Specifying both compression\_codec and gzip\_level in the same API request will result in an error.<br/>  - domain (String) The domain of the DigitalOcean Spaces endpoint Default: nyc3.digitaloceanspaces.com<br/>  - format (String) Apache style log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. Default 2<br/>  - gzip\_level (Number) Level of Gzip compression from 0-9. 0 means no compression. 1 is the fastest and the least compressed version, 9 is the slowest and the most compressed version. Default 0<br/>  - message\_type (String) How the message should be formatted. Can be either classic, loggly, logplex or blank. Default is classic<br/>  - name (String) The unique name of the DigitalOcean Spaces logging endpoint. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - path (String) The path to upload logs to.<br/>  - period (Number) How frequently log files are finalized so they can be available for reading in seconds. Default 3600<br/>  - placement (String) Where in the generated VCL the logging call should be placed. Can be none or none.<br/>  - public\_key (String) A PGP public key that Fastly will use to encrypt your log files before writing them to disk.<br/>  - response\_condition (String) The name of an existing condition in the configured endpoint, or leave blank to always execute.<br/>  - timestamp\_format (String) The strftime specified timestamp formatting Default: %Y-%m-%dT%H:%M:%S.000 | <pre>list(object({<br/>    bucket_name        = string<br/>    compression_codec  = optional(string)<br/>    domain             = optional(string)<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    gzip_level         = optional(number)<br/>    message_type       = optional(string)<br/>    name               = string<br/>    path               = optional(string)<br/>    period             = optional(number)<br/>    placement          = optional(string)<br/>    public_key         = optional(string)<br/>    response_condition = optional(string)<br/>    timestamp_format   = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_digitalocean_access_key"></a> [fastly\_logging\_digitalocean\_access\_key](#input\_fastly\_logging\_digitalocean\_access\_key) | (String, Sensitive) Your DigitalOcean Spaces account access key. | `string` | `""` | no |
| <a name="input_fastly_logging_digitalocean_secret_key"></a> [fastly\_logging\_digitalocean\_secret\_key](#input\_fastly\_logging\_digitalocean\_secret\_key) | (String, Sensitive) Your DigitalOcean Spaces account secret key. | `string` | `""` | no |
| <a name="input_fastly_logging_elasticsearch"></a> [fastly\_logging\_elasticsearch](#input\_fastly\_logging\_elasticsearch) | A list of logging Elasticsearch settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - format (String) Apache-style string or VCL variables to use for log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. Default 2<br/>  - index (String) The name of the Elasticsearch index to send documents (logs) to.<br/>  - name (String) The unique name of the Elasticsearch logging endpoint. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - pipeline (String) The ID of the Elasticsearch ingest pipeline to apply pre-process transformations to before indexing.<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - request\_max\_bytes (Number) The maximum number of logs sent in one request. Defaults to 0 for unbounded.<br/>  - request\_max\_entries (Number) The maximum number of bytes sent in one request. Defaults to 0 for unbounded.<br/>  - response\_condition (String) The name of the condition to apply.<br/>  - tls\_ca\_cert (String) secure certificate to authenticate the server with. Must be in PEM format.<br/>  - tls\_client\_cert (String) The client certificate used to make authenticated requests. Must be in PEM format.<br/>  - tls\_hostname (String) The hostname used to verify the server's certificate. It can either be the Common Name (CN) or a Subject Alternative Name (SAN).<br/>  - url (String) The Elasticsearch URL to stream logs to.<br/>  - user (String) BasicAuth username for Elasticsearch. | <pre>list(object({<br/>    format              = optional(string)<br/>    format_version      = optional(number)<br/>    index               = string<br/>    name                = string<br/>    pipeline            = optional(string)<br/>    placement           = optional(string)<br/>    request_max_bytes   = optional(number)<br/>    request_max_entries = optional(number)<br/>    response_condition  = optional(string)<br/>    tls_ca_cert         = optional(string)<br/>    tls_client_cert     = optional(string)<br/>    tls_hostname        = optional(string)<br/>    url                 = string<br/>    user                = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_elasticsearch_password"></a> [fastly\_logging\_elasticsearch\_password](#input\_fastly\_logging\_elasticsearch\_password) | (String, Sensitive) BasicAuth password for Elasticsearch. | `string` | `""` | no |
| <a name="input_fastly_logging_elasticsearch_tls_client_key"></a> [fastly\_logging\_elasticsearch\_tls\_client\_key](#input\_fastly\_logging\_elasticsearch\_tls\_client\_key) | (String, Sensitive) The client private key used to make authenticated requests. Must be in PEM format. | `string` | `""` | no |
| <a name="input_fastly_logging_ftp"></a> [fastly\_logging\_ftp](#input\_fastly\_logging\_ftp) | A list of logging FTP settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - address (String) The FTP address to stream logs to.<br/>  - compression\_codec (String) The codec used for compression of your logs. Valid values are zstd, snappy, and gzip. If the specified codec is "gzip", gzip\_level will default to 3. To specify a different level, leave compression\_codec blank and explicitly set the level using gzip\_level. Specifying both compression\_codec and gzip\_level in the same API request will result in an error.<br/>  - format (String) Apache-style string or VCL variables to use for log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. Default 2<br/>  - gzip\_level (Number) Level of Gzip compression from 0-9. 0 means no compression. 1 is the fastest and the least compressed version, 9 is the slowest and the most compressed version. Default 0<br/>  - message\_type (String) How the message should be formatted. Can be either classic, loggly, logplex or blank. Default is classic<br/>  - name (String) The unique name of the FTP logging endpoint. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - path (String) The path to upload log files to. If the path ends in / then it is treated as a directory.<br/>  - period (Number) How frequently the logs should be transferred, in seconds. Default 3600<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - port (Number) The port number. Default 21<br/>  - public\_key (String) The PGP public key that Fastly will use to encrypt your log files before writing them to disk.<br/>  - response\_condition (String) The name of the condition to apply.<br/>  - timestamp\_format (String) The strftime specified timestamp formatting. Default: %Y-%m-%dT%H:%M:%S.000<br/>  - user (String) The username for the server (can be anonymous). | <pre>list(object({<br/>    address            = string<br/>    compression_codec  = optional(string)<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    gzip_level         = optional(number)<br/>    message_type       = optional(string)<br/>    name               = string<br/>    path               = string<br/>    period             = optional(number)<br/>    placement          = optional(string)<br/>    port               = optional(number)<br/>    public_key         = optional(string)<br/>    response_condition = optional(string)<br/>    timestamp_format   = optional(string)<br/>    user               = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_ftp_password"></a> [fastly\_logging\_ftp\_password](#input\_fastly\_logging\_ftp\_password) | (String, Sensitive) The password for the server (for anonymous use an email address). | `string` | `""` | no |
| <a name="input_fastly_logging_gcs"></a> [fastly\_logging\_gcs](#input\_fastly\_logging\_gcs) | A list of logging GCS settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - account\_name (String) The google account name used to obtain temporary credentials (default none). You may optionally provide this via an environment variable, FASTLY\_GCS\_ACCOUNT\_NAME.<br/>  - bucket\_name (String) The name of the bucket in which to store the logs<br/>  - compression\_codec (String) The codec used for compression of your logs. Valid values are zstd, snappy, and gzip. If the specified codec is "gzip", gzip\_level will default to 3. To specify a different level, leave compression\_codec blank and explicitly set the level using gzip\_level. Specifying both compression\_codec and gzip\_level in the same API request will result in an error.<br/>  - format (String) Apache-style string or VCL variables to use for log formatting<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (Default: 2)<br/>  - gzip\_level (Number) Level of Gzip compression from 0-9. 0 means no compression. 1 is the fastest and the least compressed version, 9 is the slowest and the most compressed version. Default 0<br/>  - message\_type (String) How the message should be formatted. Can be either classic, loggly, logplex or blank. Default is classic<br/>  - name (String) A unique name to identify this GCS endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - path (String) Path to store the files. Must end with a trailing slash. If this field is left empty, the files will be saved in the bucket's root path<br/>  - period (Number) How frequently the logs should be transferred, in seconds (Default 3600)<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - project\_id (String) The ID of your Google Cloud Platform project<br/>  - response\_condition (String) Name of a condition to apply this logging.<br/>  - secret\_key (String, Sensitive) The secret key associated with the target gcs bucket on your account. You may optionally provide this secret via an environment variable, FASTLY\_GCS\_SECRET\_KEY. A typical format for the key is PEM format, containing actual newline characters where required<br/>  - timestamp\_format (String) The strftime specified timestamp formatting (default %Y-%m-%dT%H:%M:%S.000)<br/>  - user (String) Your Google Cloud Platform service account email address. The client\_email field in your service account authentication JSON. You may optionally provide this via an environment variable, FASTLY\_GCS\_EMAIL. | <pre>list(object({<br/>    account_name       = optional(string)<br/>    bucket_name        = string<br/>    compression_codec  = optional(string)<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    gzip_level         = optional(number)<br/>    message_type       = optional(string)<br/>    name               = string<br/>    path               = optional(string)<br/>    period             = optional(number)<br/>    placement          = optional(string)<br/>    project_id         = optional(string)<br/>    response_condition = optional(string)<br/>    timestamp_format   = optional(string)<br/>    user               = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_gcs_secret_key"></a> [fastly\_logging\_gcs\_secret\_key](#input\_fastly\_logging\_gcs\_secret\_key) | (String, Sensitive) The secret key associated with the target gcs bucket on your account. You may optionally provide this secret via an environment variable, FASTLY\_GCS\_SECRET\_KEY. A typical format for the key is PEM format, containing actual newline characters where required. | `string` | `""` | no |
| <a name="input_fastly_logging_googlepubsub"></a> [fastly\_logging\_googlepubsub](#input\_fastly\_logging\_googlepubsub) | A list of logging Google Cloud Pub/Sub settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - account\_name (String) The google account name used to obtain temporary credentials (default none). You may optionally provide this via an environment variable, FASTLY\_GCS\_ACCOUNT\_NAME.<br/>  - format (String) Apache style log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2).<br/>  - name (String) The unique name of the Google Cloud Pub/Sub logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - project\_id (String) The ID of your Google Cloud Platform project<br/>  - response\_condition (String) The name of an existing condition in the configured endpoint, or leave blank to always execute.<br/>  - topic (String) The Google Cloud Pub/Sub topic to which logs will be published<br/>  - user (String) Your Google Cloud Platform service account email address. The client\_email field in your service account authentication JSON. You may optionally provide this via an environment variable, FASTLY\_GOOGLE\_PUBSUB\_EMAIL. | <pre>list(object({<br/>    account_name       = optional(string)<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    name               = string<br/>    placement          = optional(string)<br/>    project_id         = string<br/>    response_condition = optional(string)<br/>    topic              = string<br/>    user               = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_googlepubsub_secret_key"></a> [fastly\_logging\_googlepubsub\_secret\_key](#input\_fastly\_logging\_googlepubsub\_secret\_key) | (String, Sensitive) Your Google Cloud Platform account secret key. The private\_key field in your service account authentication JSON. You may optionally provide this secret via an environment variable, FASTLY\_GOOGLE\_PUBSUB\_SECRET\_KEY. | `string` | `""` | no |
| <a name="input_fastly_logging_grafanacloudlogs"></a> [fastly\_logging\_grafanacloudlogs](#input\_fastly\_logging\_grafanacloudlogs) | A list of logging GrafanaCloudLogs settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - format (String) Apache-style string or VCL variables to use for log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2).<br/>  - index (String) The stream identifier as a JSON string<br/>  - name (String) The unique name of the GrafanaCloudLogs logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - response\_condition (String) The name of the condition to apply.<br/>  - token (String, Sensitive) The Access Policy Token key for your GrafanaCloudLogs account<br/>  - url (String) The URL to stream logs to<br/>  - user (String) The Grafana User ID | <pre>list(object({<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    index              = string<br/>    name               = string<br/>    placement          = optional(string)<br/>    response_condition = optional(string)<br/>    url                = string<br/>    user               = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_grafanacloudlogs_token"></a> [fastly\_logging\_grafanacloudlogs\_token](#input\_fastly\_logging\_grafanacloudlogs\_token) | (String, Sensitive) The Access Policy Token key for your GrafanaCloudLogs account. | `string` | `""` | no |
| <a name="input_fastly_logging_heroku"></a> [fastly\_logging\_heroku](#input\_fastly\_logging\_heroku) | A list of logging Heroku settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - format (String) Apache-style string or VCL variables to use for log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2).<br/>  - name (String) The unique name of the Heroku logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed. Can be none or none.<br/>  - response\_condition (String) The name of an existing condition in the configured endpoint, or leave blank to always execute.<br/>  - url (String) The URL to stream logs to | <pre>list(object({<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    name               = string<br/>    placement          = optional(string)<br/>    response_condition = optional(string)<br/>    url                = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_heroku_token"></a> [fastly\_logging\_heroku\_token](#input\_fastly\_logging\_heroku\_token) | (String, Sensitive) The token to use for authentication (https://www.heroku.com/docs/customer-token-authentication-token/) | `string` | `""` | no |
| <a name="input_fastly_logging_honeycomb"></a> [fastly\_logging\_honeycomb](#input\_fastly\_logging\_honeycomb) | A list of logging Honeycomb settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - dataset (String) The Honeycomb Dataset you want to log to<br/>  - format (String) Apache style log formatting. Your log must produce valid JSON that Honeycomb can ingest.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2).<br/>  - name (String) The unique name of the Honeycomb logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed. Can be none or none.<br/>  - response\_condition (String) The name of an existing condition in the configured endpoint, or leave blank to always execute. | <pre>list(object({<br/>    dataset            = string<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    name               = string<br/>    placement          = optional(string)<br/>    response_condition = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_honeycomb_token"></a> [fastly\_logging\_honeycomb\_token](#input\_fastly\_logging\_honeycomb\_token) | (String, Sensitive) The Write Key from the Account page of your Honeycomb account. | `string` | `""` | no |
| <a name="input_fastly_logging_https"></a> [fastly\_logging\_https](#input\_fastly\_logging\_https) | A list of logging HTTPS settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - content\_type (String) Value of the Content-Type header sent with the request<br/>  - format (String) Apache-style string or VCL variables to use for log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2)<br/>  - header\_name (String) Custom header sent with the request<br/>  - header\_value (String) Value of the custom header sent with the request<br/>  - json\_format (String) Formats log entries as JSON. Can be either disabled (0), array of json (1), or newline delimited json (2)<br/>  - message\_type (String) How the message should be formatted. Can be either classic, loggly, logplex or blank. Default is classic<br/>  - method (String) HTTP method used for request. Can be either POST or PUT. Default POST<br/>  - name (String) The unique name of the HTTPS logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed<br/>  - request\_max\_bytes (Number) The maximum number of bytes sent in one request<br/>  - request\_max\_entries (Number) The maximum number of logs sent in one request<br/>  - response\_condition (String) The name of the condition to apply<br/>  - tls\_ca\_cert (String) A secure certificate to authenticate the server with. Must be in PEM format<br/>  - tls\_client\_cert (String) The client certificate used to make authenticated requests. Must be in PEM format<br/>  - tls\_hostname (String) Used during the TLS handshake to validate the certificate<br/>  - url (String) URL that log data will be sent to. Must use the https protocol | <pre>list(object({<br/>    content_type        = optional(string)<br/>    format              = optional(string)<br/>    format_version      = optional(number)<br/>    header_name         = optional(string)<br/>    header_value        = optional(string)<br/>    json_format         = optional(number)<br/>    message_type        = optional(string)<br/>    method              = optional(string)<br/>    name                = string<br/>    placement           = optional(string)<br/>    request_max_bytes   = optional(number)<br/>    request_max_entries = optional(number)<br/>    response_condition  = optional(string)<br/>    tls_ca_cert         = optional(string)<br/>    tls_client_cert     = optional(string)<br/>    tls_hostname        = optional(string)<br/>    url                 = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_https_tls_client_key"></a> [fastly\_logging\_https\_tls\_client\_key](#input\_fastly\_logging\_https\_tls\_client\_key) | (String, Sensitive) The client private key used to make authenticated requests. Must be in PEM format. | `string` | `""` | no |
| <a name="input_fastly_logging_kafka"></a> [fastly\_logging\_kafka](#input\_fastly\_logging\_kafka) | A list of logging Kafka settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - auth\_method (String) SASL authentication method. One of: plain, scram-sha-256, scram-sha-512<br/>  - brokers (String) A comma-separated list of IP addresses or hostnames of Kafka brokers<br/>  - compression\_codec (String) The codec used for compression of your logs. One of: gzip, snappy, lz4<br/>  - format (String) Apache style log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2).<br/>  - name (String) The unique name of the Kafka logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - parse\_log\_keyvals (Boolean) Enables parsing of key=value tuples from the beginning of a logline, turning them into record headers<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - request\_max\_bytes (Number) Maximum size of log batch, if non-zero. Defaults to 0 for unbounded<br/>  - required\_acks (String) The Number of acknowledgements a leader must receive before a write is considered successful. One of: 1 (default) One server needs to respond. 0 No servers need to respond. -1 Wait for all in-sync replicas to respond<br/>  - response\_condition (String) The name of an existing condition in the configured endpoint, or leave blank to always execute.<br/>  - tls\_ca\_cert (String) A secure certificate to authenticate the server with. Must be in PEM format<br/>  - tls\_client\_cert (String) The client certificate used to make authenticated requests. Must be in PEM format<br/>  - tls\_hostname (String) The hostname used to verify the server's certificate. It can either be the Common Name or a Subject Alternative Name (SAN)<br/>  - topic (String) The Kafka topic to send logs to<br/>  - use\_tls (Boolean) Whether to use TLS for secure logging. Can be either true or false<br/>  - user (String) SASL User | <pre>list(object({<br/>    auth_method        = optional(string)<br/>    brokers            = string<br/>    compression_codec  = optional(string)<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    name               = string<br/>    parse_log_keyvals  = optional(bool)<br/>    placement          = optional(string)<br/>    request_max_bytes  = optional(number)<br/>    required_acks      = optional(string)<br/>    response_condition = optional(string)<br/>    tls_ca_cert        = optional(string)<br/>    tls_client_cert    = optional(string)<br/>    tls_hostname       = optional(string)<br/>    topic              = string<br/>    use_tls            = optional(bool)<br/>    user               = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_kafka_password"></a> [fastly\_logging\_kafka\_password](#input\_fastly\_logging\_kafka\_password) | (String, Sensitive) SASL Password used to authenticate with the Kafka brokers. | `string` | `""` | no |
| <a name="input_fastly_logging_kafka_tls_client_key"></a> [fastly\_logging\_kafka\_tls\_client\_key](#input\_fastly\_logging\_kafka\_tls\_client\_key) | (String, Sensitive) The client private key used to make authenticated requests. Must be in PEM format. | `string` | `""` | no |
| <a name="input_fastly_logging_kinesis"></a> [fastly\_logging\_kinesis](#input\_fastly\_logging\_kinesis) | A list of logging Kinesis settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - access\_key (String, Sensitive) The AWS access key to be used to write to the stream<br/>  - format (String) Apache style log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2).<br/>  - iam\_role (String) The Amazon Resource Name (ARN) for the IAM role granting Fastly access to Kinesis. Not required if access\_key and secret\_key are provided.<br/>  - name (String) The unique name of the Kinesis logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed. Can be none or none.<br/>  - region (String) The AWS region the stream resides in. (Default: us-east-1)<br/>  - response\_condition (String) The name of an existing condition in the configured endpoint, or leave blank to always execute.<br/>  - secret\_key (String, Sensitive) The AWS secret access key to authenticate with<br/>  - topic (String) The Kinesis stream name | <pre>list(object({<br/>    access_key         = optional(string)<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    iam_role           = optional(string)<br/>    name               = string<br/>    placement          = optional(string)<br/>    region             = optional(string)<br/>    response_condition = optional(string)<br/>    topic              = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_kinesis_access_key"></a> [fastly\_logging\_kinesis\_access\_key](#input\_fastly\_logging\_kinesis\_access\_key) | (String, Sensitive) The AWS access key to be used to write to the stream (https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html). | `string` | `""` | no |
| <a name="input_fastly_logging_kinesis_secret_key"></a> [fastly\_logging\_kinesis\_secret\_key](#input\_fastly\_logging\_kinesis\_secret\_key) | (String, Sensitive) The AWS secret access key to authenticate with (https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html). | `string` | `""` | no |
| <a name="input_fastly_logging_logentries"></a> [fastly\_logging\_logentries](#input\_fastly\_logging\_logentries) | A list of logging Logentries settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - name (String) The unique name of the Logentries logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - format (String) Apache-style string or VCL variables to use for log formatting<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (Default: 2)<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - port (Number) The port number configured in Logentries<br/>  - response\_condition (String) Name of blockAttributes condition to apply this logging.<br/>  - use\_tls (Boolean) Whether to use TLS for secure logging | <pre>list(object({<br/>    name               = string<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    placement          = optional(string)<br/>    port               = optional(number)<br/>    response_condition = optional(string)<br/>    use_tls            = optional(bool)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_logentries_token"></a> [fastly\_logging\_logentries\_token](#input\_fastly\_logging\_logentries\_token) | token (String) Use token based authentication (https://logentries.com/doc/input-token/). | `string` | `""` | no |
| <a name="input_fastly_logging_loggly"></a> [fastly\_logging\_loggly](#input\_fastly\_logging\_loggly) | A list of logging Loggly settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - format (String) Apache-style string or VCL variables to use for log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2).<br/>  - name (String) The unique name of the Loggly logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed. Can be none or none.<br/>  - response\_condition (String) The name of an existing condition in the configured endpoint, or leave blank to always execute. | <pre>list(object({<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    name               = string<br/>    placement          = optional(string)<br/>    response_condition = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_loggly_token"></a> [fastly\_logging\_loggly\_token](#input\_fastly\_logging\_loggly\_token) | (String, Sensitive) The token to use for authentication (https://www.loggly.com/docs/customer-token-authentication-token/). | `string` | `""` | no |
| <a name="input_fastly_logging_logshuttle"></a> [fastly\_logging\_logshuttle](#input\_fastly\_logging\_logshuttle) | A list of logging Log Shuttle settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - format (String) Apache style log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2).<br/>  - name (String) The unique name of the Log Shuttle logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed. Can be none or none.<br/>  - response\_condition (String) The name of an existing condition in the configured endpoint, or leave blank to always execute.<br/>  - url (String) Your Log Shuttle endpoint URL | <pre>list(object({<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    name               = string<br/>    placement          = optional(string)<br/>    response_condition = optional(string)<br/>    url                = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_logshuttle_token"></a> [fastly\_logging\_logshuttle\_token](#input\_fastly\_logging\_logshuttle\_token) | (String, Sensitive) The data authentication token associated with this endpoint (https://www.fastly.com/documentation/log-shuttle/). | `string` | `""` | no |
| <a name="input_fastly_logging_newrelic"></a> [fastly\_logging\_newrelic](#input\_fastly\_logging\_newrelic) | A list of logging New Relic settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - format (String) Apache style log formatting. Your log must produce valid JSON that New Relic Logs can ingest.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2).<br/>  - name (String) The unique name of the New Relic logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - region (String) The region that log data will be sent to. Default: US<br/>  - response\_condition (String) The name of the condition to apply. | <pre>list(object({<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    name               = string<br/>    placement          = optional(string)<br/>    region             = optional(string)<br/>    response_condition = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_newrelic_token"></a> [fastly\_logging\_newrelic\_token](#input\_fastly\_logging\_newrelic\_token) | (String, Sensitive) The Insert API key from the Account page of your New Relic account (https://docs.newrelic.com/docs/logs/logging-api/logging-api-keys/insert-api-key/). | `string` | `""` | no |
| <a name="input_fastly_logging_newrelicotlp"></a> [fastly\_logging\_newrelicotlp](#input\_fastly\_logging\_newrelicotlp) | A list of logging New Relic OTLP settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - format (String) Apache style log formatting. Your log must produce valid JSON that New Relic OTLP can ingest.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2).<br/>  - name (String) The unique name of the New Relic OTLP logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - region (String) The region that log data will be sent to. Default: US<br/>  - response\_condition (String) The name of the condition to apply.<br/>  - url (String) The optional New Relic Trace Observer URL to stream logs to for Infinite Tracing. | <pre>list(object({<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    name               = string<br/>    placement          = optional(string)<br/>    region             = optional(string)<br/>    response_condition = optional(string)<br/>    url                = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_newrelicotlp_token"></a> [fastly\_logging\_newrelicotlp\_token](#input\_fastly\_logging\_newrelicotlp\_token) | (String, Sensitive) The Insert API key from the Account page of your New Relic account (https://docs.newrelic.com/docs/logs/logging-api/logging-api-keys/insert-api-key/). | `string` | `""` | no |
| <a name="input_fastly_logging_openstack"></a> [fastly\_logging\_openstack](#input\_fastly\_logging\_openstack) | A list of logging OpenStack settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - bucket\_name (String) The name of your OpenStack container<br/>  - compression\_codec (String) The codec used for compression of your logs. Valid values are zstd, snappy, and gzip. If the specified codec is "gzip", gzip\_level will default to 3. To specify a different level, leave compression\_codec blank and explicitly set the level using gzip\_level. Specifying both compression\_codec and gzip\_level in the same API request will result in an error.<br/>  - format (String) Apache style log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2).<br/>  - gzip\_level (Number) Level of Gzip compression from 0-9. 0 means no compression. 1 is the fastest and the least compressed version, 9 is the slowest and the most compressed version. Default 0<br/>  - message\_type (String) How the message should be formatted. Can be either classic, loggly, logplex or blank. Default is classic<br/>  - name (String) The unique name of the OpenStack logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - path (String) Path to store the files. Must end with a trailing slash. If this field is left empty, the files will be saved in the bucket's root path<br/>  - period (Number) How frequently the logs should be transferred, in seconds. Default 3600<br/>  - placement (String) Where in the generated VCL the logging call should be placed. Can be none or none.<br/>  - public\_key (String) A PGP public key that Fastly will use to encrypt your log files before writing them to disk<br/>  - response\_condition (String) The name of an existing condition in the configured endpoint, or leave blank to always execute.<br/>  - timestamp\_format (String) The strftime specified timestamp formatting (default %Y-%m-%dT%H:%M:%S.000)<br/>  - url (String) Your OpenStack auth url<br/>  - user (String) The username for your OpenStack account | <pre>list(object({<br/>    bucket_name        = string<br/>    compression_codec  = optional(string)<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    gzip_level         = optional(number)<br/>    message_type       = optional(string)<br/>    name               = string<br/>    path               = optional(string)<br/>    period             = optional(number)<br/>    placement          = optional(string)<br/>    public_key         = optional(string)<br/>    response_condition = optional(string)<br/>    timestamp_format   = optional(string)<br/>    url                = string<br/>    user               = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_openstack_access_key"></a> [fastly\_logging\_openstack\_access\_key](#input\_fastly\_logging\_openstack\_access\_key) | (String, Sensitive) Your OpenStack account access key. | `string` | `""` | no |
| <a name="input_fastly_logging_papertrail"></a> [fastly\_logging\_papertrail](#input\_fastly\_logging\_papertrail) | A list of logging Papertrail settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - address (String) The address of the Papertrail endpoint<br/>  - format (String) A Fastly log format string<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. The logging call gets placed by default in vcl\_log if format\_version is set to 2 and in vcl\_deliver if format\_version is set to 1<br/>  - name (String) A unique name to identify this Papertrail endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed. If not set, endpoints with format\_version of 2 are placed in vcl\_log and those with format\_version of 1 are placed in vcl\_deliver<br/>  - port (Number) The port associated with the address where the Papertrail endpoint can be accessed<br/>  - response\_condition (String) The name of an existing condition in the configured endpoint, or leave blank to always execute | <pre>list(object({<br/>    address            = string<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    name               = string<br/>    placement          = optional(string)<br/>    port               = number<br/>    response_condition = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_s3"></a> [fastly\_logging\_s3](#input\_fastly\_logging\_s3) | A list of logging S3 settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - acl (String) The AWS Canned ACL to use for objects uploaded to the S3 bucket. Options are: private, public-read, public-read-write, aws-exec-read, authenticated-read, bucket-owner-read, bucket-owner-full-control<br/>  - bucket\_name (String) The name of the bucket in which to store the logs<br/>  - compression\_codec (String) The codec used for compression of your logs. Valid values are zstd, snappy, and gzip. If the specified codec is "gzip", gzip\_level will default to 3. To specify a different level, leave compression\_codec blank and explicitly set the level using gzip\_level. Specifying both compression\_codec and gzip\_level in the same API request will result in an error.<br/>  - domain (String) If you created the S3 bucket outside of us-east-1, then specify the corresponding bucket endpoint. Example: s3-us-west-2.amazonaws.com<br/>  - file\_max\_bytes (Number) Maximum size of an uploaded log file, if non-zero.<br/>  - format (String) Apache-style string or VCL variables to use for log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (Default: 2).<br/>  - gzip\_level (Number) Level of Gzip compression from 0-9. 0 means no compression. 1 is the fastest and the least compressed version, 9 is the slowest and the most compressed version. Default 0<br/>  - message\_type (String) How the message should be formatted. Can be either classic, loggly, logplex or blank. Default is classic<br/>  - name (String) The unique name of the S3 logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - path (String) Path to store the files. Must end with a trailing slash. If this field is left empty, the files will be saved in the bucket's root path<br/>  - period (Number) How frequently the logs should be transferred, in seconds. Default 3600<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - public\_key (String) A PGP public key that Fastly will use to encrypt your log files before writing them to disk<br/>  - redundancy (String) The S3 storage class (redundancy level). Should be one of: standard, intelligent\_tiering, standard\_ia, onezone\_ia, glacier, glacier\_ir, deep\_archive, or reduced\_redundancy<br/>  - response\_condition (String) Name of blockAttributes condition to apply this logging.<br/>  - s3\_iam\_role (String) The Amazon Resource Name (ARN) for the IAM role granting Fastly access to S3. Not required if access\_key and secret\_key are provided. You can provide this value via an environment variable, FASTLY\_S3\_IAM\_ROLE<br/>  - server\_side\_encryption (String) Specify what type of server side encryption should be used. Can be either AES256 or aws:kms<br/>  - server\_side\_encryption\_kms\_key\_id (String) Optional server-side KMS Key Id. Must be set if server\_side\_encryption is set to aws:kms<br/>  - timestamp\_format (String) The strftime specified timestamp formatting (default %Y-%m-%dT%H:%M:%S.000) | <pre>list(object({<br/>    acl                               = optional(string)<br/>    bucket_name                       = string<br/>    compression_codec                 = optional(string)<br/>    domain                            = optional(string)<br/>    file_max_bytes                    = optional(number)<br/>    format                            = optional(string)<br/>    format_version                    = optional(number)<br/>    gzip_level                        = optional(number)<br/>    message_type                      = optional(string)<br/>    name                              = string<br/>    path                              = optional(string)<br/>    period                            = optional(number)<br/>    placement                         = optional(string)<br/>    public_key                        = optional(string)<br/>    redundancy                        = optional(string)<br/>    response_condition                = optional(string)<br/>    s3_iam_role                       = optional(string)<br/>    server_side_encryption            = optional(string)<br/>    server_side_encryption_kms_key_id = optional(string)<br/>    timestamp_format                  = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_s3_access_key"></a> [fastly\_logging\_s3\_access\_key](#input\_fastly\_logging\_s3\_access\_key) | (String, Sensitive) AWS Access Key of an account with the required permissions to post logs. It is strongly recommended you create a separate IAM user with permissions to only operate on this Bucket. This key will be not be encrypted. Not required if iam\_role is provided. You can provide this key via an environment variable, FASTLY\_S3\_ACCESS\_KEY | `string` | `""` | no |
| <a name="input_fastly_logging_s3_secret_key"></a> [fastly\_logging\_s3\_secret\_key](#input\_fastly\_logging\_s3\_secret\_key) | (String, Sensitive) AWS Secret Key of an account with the required permissions to post logs. It is strongly recommended you create a separate IAM user with permissions to only operate on this Bucket. This secret will be not be encrypted. Not required if iam\_role is provided. You can provide this secret via an environment variable, FASTLY\_S3\_SECRET\_KEY | `string` | `""` | no |
| <a name="input_fastly_logging_scalyr"></a> [fastly\_logging\_scalyr](#input\_fastly\_logging\_scalyr) | A list of logging Scalyr settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - format (String) Apache style log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2).<br/>  - name (String) The unique name of the Scalyr logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - project\_id (String) The name of the logfile field sent to Scalyr<br/>  - region (String) The region that log data will be sent to. One of US or EU. Defaults to US if undefined<br/>  - response\_condition (String) The name of an existing condition in the configured endpoint, or leave blank to always execute. | <pre>list(object({<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    name               = string<br/>    placement          = optional(string)<br/>    project_id         = optional(string)<br/>    region             = optional(string)<br/>    response_condition = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_scalyr_token"></a> [fastly\_logging\_scalyr\_token](#input\_fastly\_logging\_scalyr\_token) | (String, Sensitive) The token to use for authentication (https://www.scalyr.com/keys) | `string` | `""` | no |
| <a name="input_fastly_logging_sftp"></a> [fastly\_logging\_sftp](#input\_fastly\_logging\_sftp) | A list of logging SFTP settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - address (String) The SFTP address to stream logs to<br/>  - compression\_codec (String) The codec used for compression of your logs. Valid values are zstd, snappy, and gzip. If the specified codec is "gzip", gzip\_level will default to 3. To specify a different level, leave compression\_codec blank and explicitly set the level using gzip\_level. Specifying both compression\_codec and gzip\_level in the same API request will result in an error.<br/>  - format (String) Apache-style string or VCL variables to use for log formatting.<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2).<br/>  - gzip\_level (Number) Level of Gzip compression from 0-9. 0 means no compression. 1 is the fastest and the least compressed version, 9 is the slowest and the most compressed version. Default 0<br/>  - message\_type (String) How the message should be formatted. Can be either classic, loggly, logplex or blank. Default is classic<br/>  - name (String) The unique name of the SFTP logging endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - path (String) The path to upload log files to. If the path ends in / then it is treated as a directory<br/>  - period (Number) How frequently log files are finalized so they can be available for reading (in seconds, default 3600)<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - port (Number) The port the SFTP service listens on. (Default: 22)<br/>  - public\_key (String) A PGP public key that Fastly will use to encrypt your log files before writing them to disk<br/>  - response\_condition (String) The name of the condition to apply.<br/>  - ssh\_known\_hosts (String) A list of host keys for all hosts we can connect to over SFTP<br/>  - timestamp\_format (String) The strftime specified timestamp formatting (default %Y-%m-%dT%H:%M:%S.000)<br/>  - user (String) The username for the server | <pre>list(object({<br/>    address            = string<br/>    compression_codec  = optional(string)<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    gzip_level         = optional(number)<br/>    message_type       = optional(string)<br/>    name               = string<br/>    path               = string<br/>    period             = optional(number)<br/>    placement          = optional(string)<br/>    port               = optional(number)<br/>    public_key         = optional(string)<br/>    response_condition = optional(string)<br/>    ssh_known_hosts    = string<br/>    timestamp_format   = optional(string)<br/>    user               = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_sftp_password"></a> [fastly\_logging\_sftp\_password](#input\_fastly\_logging\_sftp\_password) | (String, Sensitive) The password for the server. If both password and secret\_key are passed, secret\_key will be preferred | `string` | `""` | no |
| <a name="input_fastly_logging_sftp_secret_key"></a> [fastly\_logging\_sftp\_secret\_key](#input\_fastly\_logging\_sftp\_secret\_key) | (String, Sensitive) The SSH private key for the server. If both password and secret\_key are passed, secret\_key will be preferred | `string` | `""` | no |
| <a name="input_fastly_logging_splunk"></a> [fastly\_logging\_splunk](#input\_fastly\_logging\_splunk) | A list of logging Splunk settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - format (String) Apache-style string or VCL variables to use for log formatting (default: %h %l %u %t "%r" %>s %b)<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (default: 2)<br/>  - name (String) A unique name to identify the Splunk endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed<br/>  - response\_condition (String) The name of the condition to apply<br/>  - tls\_ca\_cert (String) A secure certificate to authenticate the server with. Must be in PEM format. You can provide this certificate via an environment variable, FASTLY\_SPLUNK\_CA\_CERT<br/>  - tls\_client\_cert (String) The client certificate used to make authenticated requests. Must be in PEM format.<br/>  - tls\_hostname (String) The hostname used to verify the server's certificate. It can either be the Common Name or a Subject Alternative Name (SAN)<br/>  - url (String) The Splunk URL to stream logs to<br/>  - use\_tls (Boolean) Whether to use TLS for secure logging. Default: false | <pre>list(object({<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    name               = string<br/>    placement          = optional(string)<br/>    response_condition = optional(string)<br/>    tls_ca_cert        = optional(string)<br/>    tls_client_cert    = optional(string)<br/>    tls_hostname       = optional(string)<br/>    url                = string<br/>    use_tls            = optional(bool)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_splunk_tls_client_key"></a> [fastly\_logging\_splunk\_tls\_client\_key](#input\_fastly\_logging\_splunk\_tls\_client\_key) | (String, Sensitive) The client private key used to make authenticated requests. Must be in PEM format. You can provide this key via an environment variable, FASTLY\_SPLUNK\_CLIENT\_KEY. | `string` | `""` | no |
| <a name="input_fastly_logging_splunk_token"></a> [fastly\_logging\_splunk\_token](#input\_fastly\_logging\_splunk\_token) | (String, Sensitive) The Splunk token to be used for authentication (https://docs.splunk.com/Documentation/Splunk/latest/Data/UsetheHTTPEventCollector). | `string` | `""` | no |
| <a name="input_fastly_logging_sumologic"></a> [fastly\_logging\_sumologic](#input\_fastly\_logging\_sumologic) | A list of logging SumoLogic settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - format (String) Apache-style string or VCL variables to use for log formatting<br/>  - format\_version (Number) The version of the custom logging format used for the configured endpoint. Can be either 1 or 2. (Default: 2)<br/>  - message\_type (String) How the message should be formatted. Can be either classic, loggly, logplex or blank. Default is classic<br/>  - name (String) A unique name to identify this Sumologic endpoint. It is important to note that changing this attribute will delete and recreate the resource<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - response\_condition (String) Name of blockAttributes condition to apply this logging.<br/>  - url (String) The URL to Sumologic collector endpoint | <pre>list(object({<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    message_type       = optional(string)<br/>    name               = string<br/>    placement          = optional(string)<br/>    response_condition = optional(string)<br/>    url                = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_syslog"></a> [fastly\_logging\_syslog](#input\_fastly\_logging\_syslog) | A list of logging syslog settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - address (String) A hostname or IPv4 address of the Syslog endpoint.<br/>  - format (String) Apache-style string or VCL variables to use for log formatting.<br/>  - format\_version (String) The version of the custom logging format. Can be either 1 or 2. Default: 2<br/>  - message\_type (String) How the message should be formatted. Can be either classic, loggly, logplex or blank. Default is classic.<br/>  - name (String) A unique name to identify this Syslog endpoint. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - placement (String) Where in the generated VCL the logging call should be placed.<br/>  - port (Number) The port associated with the address where the Syslog endpoint can be accessed. Default 514<br/>  - response\_condition (String) Name of blockAttributes condition to apply this logging.<br/>  - tls\_ca\_cert (String) A secure certificate to authenticate the server with. Must be in PEM format. You can provide this certificate via an environment variable, FASTLY\_SYSLOG\_CA\_CERT.<br/>  - tls\_client\_cert (String) The client certificate used to make authenticated requests. Must be in PEM format. You can provide this certificate via an environment variable, FASTLY\_SYSLOG\_CLIENT\_CERT.<br/>  - tls\_hostname (String) Used during the TLS handshake to validate the certificate.<br/>  - token (String) Whether to prepend each message with a specific token.<br/>  - use\_tls (Boolean) Whether to use TLS for secure logging. Default false | <pre>list(object({<br/>    address            = string<br/>    format             = optional(string)<br/>    format_version     = optional(number)<br/>    message_type       = optional(string)<br/>    name               = string<br/>    placement          = optional(string)<br/>    port               = optional(number)<br/>    response_condition = optional(string)<br/>    tls_ca_cert        = optional(string)<br/>    tls_client_cert    = optional(string)<br/>    tls_hostname       = optional(string)<br/>    token              = optional(string)<br/>    use_tls            = optional(bool)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_logging_syslog_tls_client_key"></a> [fastly\_logging\_syslog\_tls\_client\_key](#input\_fastly\_logging\_syslog\_tls\_client\_key) | logging\_syslog tls\_client\_key (String, Sensitive) The client private key used to make authenticated requests. Must be in PEM format. You can provide this key via an environment variable, FASTLY\_SYSLOG\_CLIENT\_KEY. | `string` | `""` | no |
| <a name="input_fastly_product_enablement"></a> [fastly\_product\_enablement](#input\_fastly\_product\_enablement) | A single-item list of settings for product enablement to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - bot\_management (Boolean) Enable Bot Management support.<br/>  - brotli\_compression (Boolean) Enable Brotli Compression support.<br/>  - ddos\_protection (Block List) A single block list of DDoS Protection product settings with the following attributes:<br/>    - enabled (Boolean) Enable DDoS Protection support.<br/>    - mode (String) Operation mode.<br/>  - domain\_inspector (Boolean) Enable Domain Inspector support.<br/>  - image\_optimizer (Boolean) Enable Image Optimizer support (all backends must have a shield attribute).<br/>  - log\_explorer\_insights (Boolean) Enable Log Explorer & Insights.<br/>  - name (String) Used by the provider to identify modified settings (changing this value will force the entire block to be deleted, then recreated).<br/>  - ngwaf (Block List) A single block list of Next-Gen WAF product settings with the following attributes:<br/>    - enabled (Boolean) Enable Next-Gen WAF support.<br/>    - traffic\_ramp (Number) The percentage of traffic to inspect.<br/>    - workspace\_id (String) The workspace to link.<br/>  - origin\_inspector (Boolean) Enable Origin Inspector support.<br/>  - websockets (Boolean) Enable WebSockets support. | <pre>list(object({<br/>    bot_management     = optional(bool)<br/>    brotli_compression = optional(bool)<br/>    ddos_protection = optional(object({<br/>      enabled = bool<br/>      mode    = string<br/>    }))<br/>    domain_inspector      = optional(bool)<br/>    image_optimizer       = optional(bool)<br/>    log_explorer_insights = optional(bool)<br/>    name                  = optional(string)<br/>    ngwaf = optional(object({<br/>      enabled      = bool<br/>      traffic_ramp = number<br/>      workspace_id = string<br/>    }))<br/>    origin_inspector = optional(bool)<br/>    websockets       = optional(bool)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_rate_limiters"></a> [fastly\_rate\_limiters](#input\_fastly\_rate\_limiters) | A list of rate limiters to be added to the Fastly service. Each object in the list has the following attributes:<br/>- action (String) The action to take when a rate limiter violation is detected (one of: log\_only, response, response\_object).<br/>- client\_key (String) Comma-separated list of VCL variables used to generate a counter key to identify a client.<br/>- feature\_revision (Number) Revision number of the rate limiting feature implementation.<br/>- http\_methods (String) Comma-separated list of HTTP methods to apply rate limiting to.<br/>- logger\_type (String) Name of the type of logging endpoint to be used when action is log\_only (one of: azureblob, bigquery, cloudfiles, datadog, digitalocean, elasticsearch, ftp, gcs, googleanalytics, heroku, honeycomb, http, https, kafka, kinesis, logentries, loggly, logshuttle, newrelic, openstack, papertrail, pubsub, s3, scalyr, sftp, splunk, stackdriver, sumologic, syslog).<br/>- name\_suffix (String) A unique human readable name suffix for the rate limiting rule.<br/>- penalty\_box\_duration (Number) Length of time in minutes that the rate limiter is in effect after the initial violation is detected.<br/>- response (Block List) A single block list of custom response settings to be sent when the rate limit is exceeded. Required if action is response. Consists of the following attributes:<br/>  - content (String) HTTP response body data.<br/>  - content\_type (String) HTTP Content-Type (e.g. application/json).<br/>  - status (Number) HTTP response status code (e.g. 429).<br/>- response\_object\_name (String) Name of existing response object. Required if action is response\_object.<br/>- rps\_limit (Number) Upper limit of requests per second allowed by the rate limiter.<br/>- uri\_dictionary\_name (String) The name of an Edge Dictionary containing URIs as keys. If not defined or null, all origin URIs will be rate limited.<br/>- window\_size (Number) Number of seconds during which the RPS limit must be exceeded in order to trigger a violation (one of: 1, 10, 60). | <pre>list(object({<br/>    action               = string<br/>    client_key           = string<br/>    feature_revision     = optional(number)<br/>    http_methods         = string<br/>    logger_type          = optional(string)<br/>    name_suffix          = string<br/>    penalty_box_duration = number<br/>    response = optional(object({<br/>      content      = string<br/>      content_type = string<br/>      status       = number<br/>    }))<br/>    response_object_name = optional(string)<br/>    rps_limit            = number<br/>    uri_dictionary_name  = optional(string)<br/>    window_size          = number<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_request_settings"></a> [fastly\_request\_settings](#input\_fastly\_request\_settings) | A list of request settings to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - action (String) Allows you to terminate request handling and immediately perform an action.<br/>  - bypass\_busy\_wait (Boolean) Disable collapsed forwarding, so you don't wait for other objects to origin<br/>  - default\_host (String) Sets the host header<br/>  - force\_miss (Boolean) Force a cache miss for the request<br/>  - force\_ssl (Boolean) Forces the request to use SSL (Redirects a non-SSL request to SSL)<br/>  - hash\_keys (String) Comma separated list of varnish request object fields that should be in the hash key<br/>  - max\_stale\_age (Number) How old an object is allowed to be to serve stale-if-error or stale-while-revalidate, in seconds<br/>  - name (String) Unique name to refer to this Request Setting. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - request\_condition (String) Name of already defined condition to determine if this request setting should be applied<br/>  - timer\_support (Boolean) Injects the X-Timer info into the request for viewing origin fetch durations<br/>  - xff (String) X-Forwarded-For, should be clear, leave, append, append\_all, or overwrite | <pre>list(object({<br/>    action            = optional(string)<br/>    bypass_busy_wait  = optional(bool)<br/>    default_host      = optional(string)<br/>    force_miss        = optional(bool)<br/>    force_ssl         = optional(bool)<br/>    hash_keys         = optional(string)<br/>    max_stale_age     = optional(number)<br/>    name              = string<br/>    request_condition = optional(string)<br/>    timer_support     = optional(bool)<br/>    xff               = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_response_objects"></a> [fastly\_response\_objects](#input\_fastly\_response\_objects) | A list of response objects to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - cache\_condition (String) Name of already defined condition to check after we have retrieved an object. If the condition passes then deliver this Request Object instead. This condition must be of type CACHE. For detailed information about Conditionals, see Fastly's Documentation on Conditionals<br/>  - content (String) The content to deliver for the response object<br/>  - content\_type (String) The MIME type of the content<br/>  - name (String) A unique name to identify this Response Object. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - request\_condition (String) Name of already defined condition to be checked during the request phase. If the condition passes then this object will be delivered. This condition must be of type REQUEST<br/>  - response (String) The HTTP Response. Default OK<br/>  - status (Number) The HTTP Status Code. Default 200 | <pre>list(object({<br/>    cache_condition   = optional(string)<br/>    content           = optional(string)<br/>    content_type      = optional(string)<br/>    name              = string<br/>    request_condition = optional(string)<br/>    response          = optional(string, "OK")<br/>    status            = optional(number, 200)<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_service_comment"></a> [fastly\_service\_comment](#input\_fastly\_service\_comment) | (String) Description field for the service. Default Managed by Terraform | `string` | `"Managed by Terraform"` | no |
| <a name="input_fastly_snippets"></a> [fastly\_snippets](#input\_fastly\_snippets) | A list of VCL snippets to be added to the Fastly service. Each object in the list has the following attributes:<br/>  - content (String) The VCL code that specifies exactly what the snippet does.<br/>  - name (String) A name that is unique across "regular" and "dynamic" VCL Snippet configuration blocks. It is important to note that changing this attribute will delete and recreate the resource.<br/>  - priority (Number) Priority determines the ordering for multiple snippets. Lower numbers execute first. Defaults to 100<br/>  - type (String) The location in generated VCL where the snippet should be placed (can be one of init, recv, hash, hit, miss, pass, fetch, error, deliver, log or none). | <pre>list(object({<br/>    content  = string<br/>    name     = string<br/>    priority = optional(number, 100)<br/>    type     = string<br/>  }))</pre> | `[]` | no |
| <a name="input_fastly_stage"></a> [fastly\_stage](#input\_fastly\_stage) | (Boolean) Conditionally enables new service versions to be staged. If set to true, all changes made by an apply step will be staged, even if apply did not create a new draft version. Default false | `bool` | `false` | no |
| <a name="input_fastly_stale_if_error"></a> [fastly\_stale\_if\_error](#input\_fastly\_stale\_if\_error) | (Boolean) Enables serving a stale object if there is an error. Default true | `bool` | `true` | no |
| <a name="input_fastly_stale_if_error_ttl"></a> [fastly\_stale\_if\_error\_ttl](#input\_fastly\_stale\_if\_error\_ttl) | (Number) The default time-to-live (TTL) for serving the stale object for the version | `number` | `43200` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_fastly_service_id"></a> [fastly\_service\_id](#output\_fastly\_service\_id) | n/a |
| <a name="output_fastly_service_name"></a> [fastly\_service\_name](#output\_fastly\_service\_name) | n/a |
<!-- END_TF_DOCS -->
